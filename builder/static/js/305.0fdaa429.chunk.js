"use strict";(self.webpackChunkcelerant_cms=self.webpackChunkcelerant_cms||[]).push([[305],{197:function(e,t,n){n.d(t,{eg:function(){return i},Zs:function(){return l},J0:function(){return p},UQ:function(){return d},fH:function(){return f},Dj:function(){return h},ae:function(){return v},ai:function(){return m},X_:function(){return g},tH:function(){return y},LF:function(){return x},K4:function(){return b},VG:function(){return w},g$:function(){return k},XV:function(){return j}});var r=n(5861),a=n(7757),s=n.n(a),c=n(4569),o=n.n(c),u=n(3197),i=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("here my data"),console.log(t.get("file-0")),n=[],r=t,a={headers:{"content-type":"multipart/form-data"}},e.prev=5,e.next=8,o().post(u.nL+"/assets",r,a);case 8:c=e.sent,(n=c.data)&&""!=n||(n=[]),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=t,e.prev=2,e.next=5,o().post(u.nL+"/api/pages/createPage",r);case 5:a=e.sent,(n=a.data)&&""!=n||(n=""),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return c=document.getElementById("pagesModal"),(i=document.getElementById("builderModal")).style.display="block",i.style.opacity=.75,setTimeout((function(){(i=document.getElementById("builderModal")).style.display="none",i.style.opacity=0,i.style.zIndex=888,c.style.zIndex=1e33,c.style.opacity=1}),2e3),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=t,e.prev=2,e.next=5,o().post(u.nL+"/api/widgets/createWidget",r);case 5:a=e.sent,(n=a.data)&&""!=n||(n=""),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return c=document.getElementById("widgetsModal"),(i=document.getElementById("builderModal")).style.display="block",i.style.opacity=.75,setTimeout((function(){(i=document.getElementById("builderModal")).style.display="none",i.style.opacity=0,i.style.zIndex=888,c.style.zIndex=1e33,c.style.opacity=1}),2e3),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,o()(u.nL+"/api/pages/getAllPages");case 4:n=e.sent,(t=n.data)&&""!=t||(t=[]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,o()(u.nL+"/api/widgets/getAllWidgets");case 4:n=e.sent,(t=n.data)&&""!=t||(t=[]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,o()(u.nL+"/api/taxonomy/getDepts?limit=".concat(t));case 4:r=e.sent,(n=r.data)&&""!=n||(n=[]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,o()(u.nL+"/api/taxonomy/getTyps?dept=".concat(t));case 4:r=e.sent,(n=r.data)&&""!=n||(n=[]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,o()(u.nL+"/api/taxonomy/getSubTyp1?dept=".concat(t,"&typ=").concat(n));case 4:a=e.sent,(r=a.data)&&""!=r||(r=[]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,o()(u.nL+"/api/products/getHomePageprods?attr=".concat(t,"&&limit=").concat(n));case 4:a=e.sent,(r=a.data)&&""!=r||(r=[]),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(s().mark((function e(t,n,r){var a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",n,c={status:200,msg:"Page <strong> ".concat(n," </strong> Deletion Failed")},e.prev=3,b(),e.next=7,o().post(u.nL+"/api/pages/deletePage",{name:n});case 7:c=e.sent,a=c.data,setTimeout((function(){d().then((function(e){r(e)})).catch((function(e){return console.log(e)})),w()}),2e3),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:return console.log("deleted response",a),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(s().mark((function e(t,n,r){var a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",n,c={status:200,msg:"Widget <strong> ".concat(n," </strong> Deletion Failed")},e.prev=3,b(),e.next=7,o().post(u.nL+"/api/widgets/deleteWidget",{name:n});case 7:c=e.sent,a=c.data,setTimeout((function(){f().then((function(e){r(e)})).catch((function(e){return console.log(e)})),w()}),2e3),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:return console.log("deleted response",a),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=document.getElementById("builderModal");try{e.style.display="block"}catch(t){}try{e.style.opacity=.75}catch(t){}},w=function(){var e=document.getElementById("builderModal");e.style.display="none",e.style.opacity=0},k=function(){var e=(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,o()(u.nL+"/api/dataSource/getDs");case 4:n=e.sent,(t=n.data)&&""!=t||(t="jsonFiles"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=t,a={},e.prev=3,e.next=6,o().post(u.nL+"/api/user/login",r);case 6:a=e.sent,n=a.data,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},8305:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(885),a=n(2791),s=n(6871),c=n(197),o=n(184);function u(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=(t[0],t[1],(0,a.useState)({})),u=(0,r.Z)(n,2),i=(u[0],u[1]),l=sessionStorage.getItem("loginInfo"),p=(0,s.s0)();(0,a.useEffect)((function(){(l=JSON.parse(l))&&null!=l&&p("/home")}),[]);return(0,o.jsx)("section",{id:"login",children:(0,o.jsx)("div",{class:"container",children:(0,o.jsxs)("div",{class:"row main",children:[(0,o.jsx)("div",{class:"panel-heading col-md-12",children:(0,o.jsx)("p",{class:"text-center",children:"Login"})}),(0,o.jsxs)("div",{class:"main-login main-center",children:[(0,o.jsxs)("div",{class:"form-group",children:[(0,o.jsx)("label",{for:"username",class:"cols-sm-2 control-label",children:"Username"}),(0,o.jsx)("div",{class:"cols-sm-10",children:(0,o.jsxs)("div",{class:"input-group",children:[(0,o.jsx)("span",{class:"input-group-addon",children:(0,o.jsx)("i",{class:"fa fa-users fa","aria-hidden":"true"})}),(0,o.jsx)("input",{type:"text",class:"form-control",name:"username",id:"user",placeholder:"Enter your Username"})]})})]}),(0,o.jsxs)("div",{class:"form-group",children:[(0,o.jsx)("label",{for:"password",class:"cols-sm-2 control-label",children:"Password"}),(0,o.jsx)("div",{class:"cols-sm-10",children:(0,o.jsxs)("div",{class:"input-group",children:[(0,o.jsx)("span",{class:"input-group-addon",children:(0,o.jsx)("i",{class:"fa fa-lock fa-lg","aria-hidden":"true"})}),(0,o.jsx)("input",{type:"password",class:"form-control",name:"password",id:"password",placeholder:"Enter your Password"})]})})]}),(0,o.jsxs)("div",{class:"alert alert-danger d-none",role:"alert",id:"alert",children:["User name or Password is Incorrect! Please Try Again"," "]}),(0,o.jsx)("div",{class:"form-group ",children:(0,o.jsx)("button",{type:"button",class:"btn btn-primary btn-lg btn-block login-button",onClick:function(e){!function(e){e.preventDefault();var t={user:"",pass:"",data:{}};t.user=document.getElementById("user").value,t.pass=document.getElementById("password").value,i(t);var n=document.getElementById("alert");try{n.classList.add("d-none")}catch(r){}(0,c.XV)(t).then((function(e){if(200==e.status)t.data=e.data,t.pass="*******",sessionStorage.setItem("loginInfo",JSON.stringify(t)),p("/home");else{try{n.classList.remove("d-none")}catch(r){}setTimeout((function(){try{n.classList.add("d-none")}catch(r){}}),3e3)}}))}(e)},children:"Login"})})]})]})})})}},3197:function(e,t,n){n.d(t,{qr:function(){return s},nL:function(){return u}});var r=window.location.origin,a=window.location.pathname;try{a=a.split("/builder/").join("")}catch(i){}try{a=a.split("/builder").join("")}catch(i){}try{a=a.split("/home/").join("")}catch(i){}try{a=a.split("home/").join("")}catch(i){}try{a=a.split("/home").join("")}catch(i){}try{a=a.split("home").join("")}catch(i){}try{a.endsWith("/")||(a+="/")}catch(i){}var s=r+a;s.startsWith("http://localhost:5500")&&(s="http://192.168.0.101/");var c=r+a;console.log("origin is"),console.log(r);var o=window.location.origin;try{o.replace(/\/$/,"")}catch(i){}var u="http://celerantcms-com.server-icumulusdataserver9-vps.vps.ezhostingserver.com/testsite/server";u=o.startsWith("http://celerantcms-com.server-icumulusdataserver9-vps.vps.ezhostingserver.com")?"http://celerantcms-com.server-icumulusdataserver9-vps.vps.ezhostingserver.com/testsite/server":"http://localhost:9000",console.log("currentURL is : ",c),u=c.startsWith("http://localhost")||c.startsWith("http://192.168.1.143:666")?"http://localhost:9000":c+"server",console.log("nodeExpressURL",u)}}]);
//# sourceMappingURL=305.0fdaa429.chunk.js.map