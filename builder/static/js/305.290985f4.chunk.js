"use strict";(self.webpackChunkcelerant_cms=self.webpackChunkcelerant_cms||[]).push([[305],{197:function(t,e,n){n.d(e,{eg:function(){return i},Zs:function(){return l},J0:function(){return p},UQ:function(){return d},fH:function(){return f},Dj:function(){return h},ae:function(){return v},ai:function(){return m},X_:function(){return g},tH:function(){return y},LF:function(){return x},K4:function(){return b},VG:function(){return w},g$:function(){return k},XV:function(){return j}});var r=n(5861),a=n(7757),s=n.n(a),c=n(4569),o=n.n(c),u=n(3197),i=function(){var t=(0,r.Z)(s().mark((function t(e){var n,r,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("here my data"),console.log(e.get("file-0")),n=[],r=e,a={headers:{"content-type":"multipart/form-data"}},t.prev=5,t.next=8,o().post(u.nL+"/assets",r,a);case 8:c=t.sent,(n=c.data)&&""!=n||(n=[]),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(5);case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(s().mark((function t(e){var n,r,a,c,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",r=e,t.prev=2,t.next=5,o().post(u.nL+"/api/pages/createPage",r);case 5:a=t.sent,(n=a.data)&&""!=n||(n=""),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:return c=document.getElementById("pagesModal"),(i=document.getElementById("builderModal")).style.display="block",i.style.opacity=.75,setTimeout((function(){(i=document.getElementById("builderModal")).style.display="none",i.style.opacity=0,i.style.zIndex=888,c.style.zIndex=1e33,c.style.opacity=1}),2e3),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(s().mark((function t(e){var n,r,a,c,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",r=e,t.prev=2,t.next=5,o().post(u.nL+"/api/widgets/createWidget",r);case 5:a=t.sent,(n=a.data)&&""!=n||(n=""),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:return c=document.getElementById("widgetsModal"),(i=document.getElementById("builderModal")).style.display="block",i.style.opacity=.75,setTimeout((function(){(i=document.getElementById("builderModal")).style.display="none",i.style.opacity=0,i.style.zIndex=888,c.style.zIndex=1e33,c.style.opacity=1}),2e3),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,o()(u.nL+"/api/pages/getAllPages");case 4:n=t.sent,(e=n.data)&&""!=e||(e=[]),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,o()(u.nL+"/api/widgets/getAllWidgets");case 4:n=t.sent,(e=n.data)&&""!=e||(e=[]),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(s().mark((function t(e){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,o()(u.nL+"/api/taxonomy/getDepts?limit=".concat(e));case 4:r=t.sent,(n=r.data)&&""!=n||(n=[]),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(s().mark((function t(e){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,o()(u.nL+"/api/taxonomy/getTyps?dept=".concat(e));case 4:r=t.sent,(n=r.data)&&""!=n||(n=[]),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(s().mark((function t(e,n){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.prev=1,t.next=4,o()(u.nL+"/api/taxonomy/getSubTyp1?dept=".concat(e,"&typ=").concat(n));case 4:a=t.sent,(r=a.data)&&""!=r||(r=[]),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=(0,r.Z)(s().mark((function t(e,n){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.prev=1,t.next=4,o()(u.nL+"/api/products/getHomePageprods?attr=".concat(e,"&&limit=").concat(n));case 4:a=t.sent,(r=a.data)&&""!=r||(r=[]),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=(0,r.Z)(s().mark((function t(e,n,r){var a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",n,c={status:200,msg:"Page <strong> ".concat(n," </strong> Deletion Failed")},t.prev=3,b(),t.next=7,o().post(u.nL+"/api/pages/deletePage",{name:n});case 7:c=t.sent,a=c.data,setTimeout((function(){d().then((function(t){r(t)})).catch((function(t){return console.log(t)})),w()}),2e3),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:return console.log("deleted response",a),t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e,n,r){return t.apply(this,arguments)}}(),x=function(){var t=(0,r.Z)(s().mark((function t(e,n,r){var a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",n,c={status:200,msg:"Widget <strong> ".concat(n," </strong> Deletion Failed")},t.prev=3,b(),t.next=7,o().post(u.nL+"/api/widgets/deleteWidget",{name:n});case 7:c=t.sent,a=c.data,setTimeout((function(){f().then((function(t){r(t)})).catch((function(t){return console.log(t)})),w()}),2e3),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:return console.log("deleted response",a),t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e,n,r){return t.apply(this,arguments)}}(),b=function(){var t=document.getElementById("builderModal");try{t.style.display="block"}catch(e){}try{t.style.opacity=.75}catch(e){}},w=function(){var t=document.getElementById("builderModal");t.style.display="none",t.style.opacity=0},k=function(){var t=(0,r.Z)(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="",t.prev=1,t.next=4,o()(u.nL+"/api/dataSource/getDs");case 4:n=t.sent,(e=n.data)&&""!=e||(e="jsonFiles"),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=(0,r.Z)(s().mark((function t(e){var n,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",r=e,a={},t.prev=3,t.next=6,o().post(u.nL+"/api/user/login",r);case 6:a=t.sent,n=a.data,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()},8305:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var r=n(885),a=n(2791),s=n(6871),c=n(197),o=n(184);function u(){var t=(0,a.useState)(""),e=(0,r.Z)(t,2),n=(e[0],e[1],(0,a.useState)({})),u=(0,r.Z)(n,2),i=(u[0],u[1]),l=sessionStorage.getItem("loginInfo"),p=(0,s.s0)();(0,a.useEffect)((function(){(l=JSON.parse(l))&&null!=l&&p("/home")}),[]);return(0,o.jsx)("section",{id:"login",children:(0,o.jsx)("div",{class:"container",children:(0,o.jsxs)("div",{class:"row main",children:[(0,o.jsx)("div",{class:"panel-heading col-md-12",children:(0,o.jsx)("p",{class:"text-center",children:"Login"})}),(0,o.jsxs)("div",{class:"main-login main-center",children:[(0,o.jsxs)("div",{class:"form-group",children:[(0,o.jsx)("label",{for:"username",class:"cols-sm-2 control-label",children:"Username"}),(0,o.jsx)("div",{class:"cols-sm-10",children:(0,o.jsxs)("div",{class:"input-group",children:[(0,o.jsx)("span",{class:"input-group-addon",children:(0,o.jsx)("i",{class:"fa fa-users fa","aria-hidden":"true"})}),(0,o.jsx)("input",{type:"text",class:"form-control",name:"username",id:"user",placeholder:"Enter your Username"})]})})]}),(0,o.jsxs)("div",{class:"form-group",children:[(0,o.jsx)("label",{for:"password",class:"cols-sm-2 control-label",children:"Password"}),(0,o.jsx)("div",{class:"cols-sm-10",children:(0,o.jsxs)("div",{class:"input-group",children:[(0,o.jsx)("span",{class:"input-group-addon",children:(0,o.jsx)("i",{class:"fa fa-lock fa-lg","aria-hidden":"true"})}),(0,o.jsx)("input",{type:"password",class:"form-control",name:"password",id:"password",placeholder:"Enter your Password"})]})})]}),(0,o.jsxs)("div",{class:"alert alert-danger d-none",role:"alert",id:"alert",children:["User name or Password is Incorrect! Please Try Again"," "]}),(0,o.jsx)("div",{class:"form-group ",children:(0,o.jsx)("button",{type:"button",class:"btn btn-primary btn-lg btn-block login-button",onClick:function(t){!function(t){t.preventDefault();var e={user:"",pass:"",data:{}};e.user=document.getElementById("user").value,e.pass=document.getElementById("password").value,i(e);var n=document.getElementById("alert");try{n.classList.add("d-none")}catch(r){}(0,c.XV)(e).then((function(t){if(200==t.status)e.data=t.data,e.pass="*******",sessionStorage.setItem("loginInfo",JSON.stringify(e)),p("/home");else{try{n.classList.remove("d-none")}catch(r){}setTimeout((function(){try{n.classList.add("d-none")}catch(r){}}),3e3)}}))}(t)},children:"Login"})})]})]})})})}},3197:function(t,e,n){n.d(e,{qr:function(){return s},nL:function(){return u}});var r=window.location.origin,a=window.location.pathname;try{a=a.split("/builder/").join("")}catch(i){}try{a=a.split("/builder").join("")}catch(i){}try{a=a.split("/home/").join("")}catch(i){}try{a=a.split("home/").join("")}catch(i){}try{a=a.split("/home").join("")}catch(i){}try{a=a.split("home").join("")}catch(i){}try{a.endsWith("/")||(a+="/")}catch(i){}var s=r+a;s.startsWith("http://localhost:5500")&&(s="http://192.168.0.101/");var c=r+a;console.log("origin is"),console.log(r);var o=window.location.origin;try{o.replace(/\/$/,"")}catch(i){}var u="http://celerantcms-com.server-icumulusdataserver9-vps.vps.ezhostingserver.com/testsite/server";u=o.startsWith("http://celerantcms-com.server-icumulusdataserver9-vps.vps.ezhostingserver.com")?"http://celerantcms-com.server-icumulusdataserver9-vps.vps.ezhostingserver.com/testsite/server":"http://localhost:9000",console.log("currentURL is : ",c),u=c.startsWith("http://localhost")||c.startsWith("http://192.168.1.143:666")||c.startsWith("http://192.168.0.101")?"http://localhost:9000":c+"server",console.log("nodeExpressURL",u)}}]);
//# sourceMappingURL=305.290985f4.chunk.js.map